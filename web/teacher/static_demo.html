<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="../res/jiangtao/lib/mdl/color_material.min.css">
    <link rel="stylesheet" href="../res/jiangtao/lib/mdl/icon.css">
    <script src="../res/jiangtao/lib/mdl/material.min.js"></script>
    <script src="../res/js/jquery-3.0.0.min.js"></script>
    <script src="../res/jiangtao/lib/d3.v3.min.js"></script>
    <script src="../res/jiangtao/lib/c3.min.js"></script>
    <link href="../res/jiangtao/lib/c3.min.css" rel="stylesheet" type="text/css">
    <!--dist-->
    <link rel="stylesheet" href="../res/jiangtao/lib/bootstrap/bootstrap.css">
    <script src="../res/jiangtao/lib/bootstrap/bootstrap.js"></script>
    <link rel="stylesheet" href="../res/jiangtao/lib/dist/summernote.css">
    <script src="../res/jiangtao/lib/dist/summernote.min.js"></script>
</head>
<body>
<div id="toast" class="mdl-js-snackbar mdl-snackbar">
    <div class="mdl-snackbar__text"></div>
    <button class="mdl-snackbar__action" type="button"></button>
</div>
<div id="chart"></div>
<script>
    var chart = c3.generate({
        bindto: '#chart',
        data: {
            columns: [
                ['data1', 30, 200, 100, 400, 150, 250],
                ['data2', 50, 20, 10, 40, 15, 25]
            ]
        }
    });
</script>
<hr>
<div id="list"></div>
<hr>
<div id="p_ed" style="display: none">
    <div id="editor">评议信息...</div>
</div>
<!-- Raised button with ripple -->
<button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect">
    Button
</button>
</body>
<script>
    function boxMessage(msg){
        var snackbarContainer = document.querySelector('#toast');
        var data = {message:msg};
        snackbarContainer.MaterialSnackbar.showSnackbar(data);
    }
    $(function () {
        $.getJSON("pullTchCrs", function (data) {
            var list = $.parseJSON(data);
            var ul = '<ul class="mdl-list">';
            $.each(list,function (i,n) {

                    ul  = ul +'<li class="mdl-list__item mdl-list__item--two-line">' +
                        '<span class="mdl-list__item-primary-content">' +
                        '<i class="material-icons mdl-list__item-icon">subject</i><span>'+n.crsName+'</span>' +
                        '<span class="mdl-list__item-sub-title"> 课程号：'+n.crsId+'</span>' +
                        '</span>' +
                        '<span class="mdl-list__item-secondary-content"><span class="mdl-list__item-secondary-info">编辑</span><a csid="'+n.dpmId+'_'+n.crsId+'_'+n.tchId+'" class="edit-com mdl-list__item-secondary-action"><i class="material-icons">create</i></a></span>' +
                        '</li>'
            })
            ul = ul + '</ul>'
            $("#list").html("");
            $("#list").append(ul);
        })
        $("#editor").summernote({
            toolbar: [
                // [groupName, [list of button]]
                ['style', ['bold', 'italic', 'underline', 'clear']],
                ['font', ['strikethrough', 'superscript', 'subscript']],
                ['fontsize', ['fontsize']],
                ['color', ['color']],
                ['para', ['ul', 'ol', 'paragraph']],
                ['height', ['height']]
            ],
            height: 300,                 // set editor height
            minHeight: null,             // set minimum height of editor
            maxHeight: null,             // set maximum height of editor
            focus: true,
            callbacks: {
                onEnter: function () {
                    console.log($("#editor").summernote('code'));//set key
                }
            }
        });
//        console.log($("#editor").summernote('code', ''));//set text
        $("body").delegate(".edit-com","click",function () {

            $("#editor").attr("csid",$(this).attr("csid"));
            $("#p_ed").slideToggle("fast");
        })

    })
</script>
</html>